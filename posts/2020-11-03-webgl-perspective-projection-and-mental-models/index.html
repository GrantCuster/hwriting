<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
      />
    <link rel="stylesheet" type="text/css" href="/font.css" />
    <link rel="stylesheet" type="text/css" href="/style.css" />
    


<title>WegGL, 3D projection and mental models - Grant Custer</title>
<meta property="description" content="I&rsquo;m working on recreating some graphics editing programs in WebGL. To be able to zoom in on images, I&rsquo;ve implemented a pretty standard 3D camera with projection and view matrices. I&rsquo;ve found really understanding projection to be difficult. It&rsquo;s one thing to get some cubes placed and rendering in the world, it&rsquo;s another thing to enable mouse interactions, where you have to project and unproject between screen space, view space and world space.">
<meta property="og:title" content="WegGL, 3D projection and mental models - Grant Custer">
<meta property="og:description" content="I&rsquo;m working on recreating some graphics editing programs in WebGL. To be able to zoom in on images, I&rsquo;ve implemented a pretty standard 3D camera with projection and view matrices. I&rsquo;ve found really understanding projection to be difficult. It&rsquo;s one thing to get some cubes placed and rendering in the world, it&rsquo;s another thing to enable mouse interactions, where you have to project and unproject between screen space, view space and world space.">
<meta property="og:image" content="https://writing.grantcuster.com/writing.png">
<meta property="og:url" content="https://writing.grantcuster.com/posts/2020-11-03-webgl-perspective-projection-and-mental-models/">
<meta property="twitter:card" content="summary_large_image">

  </head>
  <body>
   <div class="hspacer"></div>
    <div class="container">
      <div class="jbm">
      <div>Grant Custer</div>
      <div><p style="margin: 0; text-indent: 2ch"><a href="https://feed.grantcuster.com">Feed</a>&nbsp; <a href="https://grantcuster.com">Index</a>&nbsp; <a href="https://twitter.com/grantcuster">Twitter</a></p></div>
      </div>
    </div>
    <div class="spacer"></div>
    
<div class="container">
  <div><a href="/">Writing</a></div>
  <div class="jbm">2020.11.03</div>
  <h1>WegGL, 3D projection and mental models</h1>
  <div><p>I&rsquo;m working on recreating some graphics editing programs in WebGL. To be able to zoom in on images, I&rsquo;ve implemented a pretty standard 3D camera with projection and view matrices. I&rsquo;ve found really understanding projection to be difficult. It&rsquo;s one thing to get some cubes placed and rendering in the world, it&rsquo;s another thing to enable mouse interactions, where you have to project and unproject between screen space, view space and world space.</p>
<p>Figuring out the steps for transitioning between the spaces has been difficult, but a nice consequence is that I&rsquo;m developing a mental model of what is happening on screen that I can reason about. The idea is that the screen reperesents a flat window onto 3D space that extends behind it. I&rsquo;m starting to be able to intuitively reason about when I can keep something in screen space (the cursor), and when I want to project it into world space (creating a bounding box on an image). Mouse-directed zoom (as movement along a ray projected from the mouse), took me a while to get right, but now I feel like I have a better handle on what it is doing then when I&rsquo;ve implemented it in a non-3D camera set-up.</p>
<p>When I have done image editors with zoom in the past, things have always gotten messy while dealing with translation and zoom. Now I feel like maybe that is because I was mixing 2D and 3D concepts. Placing images in 3D perspective space with a camera has required a lot of set-up, but I&rsquo;m now starting to believe it will really pay off.</p>
<p>The thing where the world is transformed to place the camera at origin through the view matrix is still giving me some headaches. But I&rsquo;m getting excited about the possibilities that could open up after I&rsquo;ve internalized more of this stuff</p>
</div>
  <div class="hspacer"></div>
  <div><a href="/">More writing</a></div>
  <div class="spacer"></div>
  <div class="hspacer"></div>
</div>

    <div class="container indent">
      <div class="jbm">
     <div>About</div>
      <p>Grant Custer is a designer-programmer interested in alternative interfaces.</p>
      <p>You can see work and inspiration in progress on my <a href="https://feed.grantcuster.com">Feed</a>  and my alternative interface experiments on <a href="https://constraint.systems">Constraint Systems</a>. Iâ€™m happy to talk on <a href="https://twitter.com/grantcuster">Twitter</a>, email: grantcuster at gmail dot com, or <a href="https://vis.social/@grantcuster">Mastodon</a>. You can see a full list of projects on my <a href="https://grantcuster.com">Index</a>.</p>
      </p>
      </div>
    </div>
    <div class="spacer"></div>
    <div class="spacer"></div>
  </body>
</html>
